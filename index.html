<!DOCTYPE html>
<html>
  <body style="height: 100vh">
    <iframe
      src="http://localhost:3000/"
      title="broadcast message test"
      height="100%"
      width="100%"
    ></iframe>
  </body>
  <!--  shared worker test
  <script>
    var bc = new BroadcastChannel('gator_channel')

    ;(() => {
      const title = document.getElementById('title')
      const nameField = document.getElementById('name-field')
      const setTitle = (userName) => {
        title.innerHTML = 'Hey ' + userName
      }

      bc.onmessage = (messageEvent) => {
        console.log(">>")
        // If our broadcast message is 'update_title' then get the new title from localStorage
        if (messageEvent.data === 'update_title') {
          // localStorage is domain specific so when it changes in one window it changes in the other
          setTitle(localStorage.getItem('title'))
        }
      }

      // When the page loads check if the title is in our localStorage
      if (localStorage.getItem('title')) {
        setTitle(localStorage.getItem('title'))
      } else {
        setTitle('please tell us your name')
      }

      nameField.onchange = (e) => {
        const inputValue = e.target.value
        // In the localStorage we set title to the user's input
        localStorage.setItem('title', inputValue)
        // Update the title on the current page
        setTitle(inputValue)
        // Tell the other pages to update the title
        bc.postMessage('update_title')
      }
    })()
  </script> -->
</html>
